name: WakaTime Readme Stats

"on":
    # 每天自动更新（UTC 时间 0 点，对应北京时间 8 点）
    schedule:
        - cron: "0 0 * * *"
    # 手动触发更新（可选，方便测试）
    workflow_dispatch:

permissions:
    contents: write

jobs:
    update-readme:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Repository
              uses: actions/checkout@v4

            - name: Update WakaTime Stats
              uses: athul/waka-readme@v0.3.1
              with:
                  WAKATIME_API_KEY: "${{ secrets.WAKATIME_API_KEY }}"
                  GH_TOKEN: "${{ secrets.GITHUB_TOKEN }}"
                  # 显示最近 7 天统计（可改为 last_30_days / last_year / all_time 等）
                  TIME_RANGE: all_time
                  LANG_COUNT: 5
                  SHOW_TIME: true
                  STOP_AT_OTHER: true
                  # 进度条字符样式（块状）
                  BLOCKS: ░▒▓█
