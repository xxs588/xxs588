name: WakaTime Readme

on:
  # æ¯å¤©è¿è¡Œä¸€æ¬¡ (å‡Œæ™¨ 0 ç‚¹ 30 åˆ†)
  schedule:
    - cron: '30 0 * * *'
  # å…è®¸æ‰‹åŠ¨è§¦å‘è¿è¡Œ
  workflow_dispatch:

jobs:
  update-readme:
    name: Update WakaTime Readme
    runs-on: ubuntu-latest
    
    # æˆäºˆå·¥ä½œæµå†™å…¥æƒé™ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æäº¤ç”Ÿæˆçš„ç»Ÿè®¡æ–‡ä»¶
    permissions:
      contents: write
      
    steps:
      - uses: athul/waka-readme@master
        with:
          # VVVV å¿…å¡«é¡¹ï¼šè¿™æ˜¯ä½ çš„ API Key å¯†é’¥åç§°
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
          
          # VVVV å¿…å¡«é¡¹ï¼šæ›¿æ¢ä¸ºä½ çš„ WakaTime ç”¨æˆ·å (é€šå¸¸ä¸ GitHub ç”¨æˆ·åç›¸åŒ)
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          
          # å¯é€‰é¡¹ï¼šç”¨äºè®¾ç½®ç”Ÿæˆçš„ç»Ÿè®¡æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶å
          COMMIT_BY_ME: "true" 
          COMMIT_MSG: "ğŸ“Š Update WakaTime Stats"
          
          # å¯é€‰é¡¹ï¼šç”¨äºå®šåˆ¶ç»Ÿè®¡å›¾è¡¨çš„æ ·å¼
          SHOW_OS: "false" # ä¸æ˜¾ç¤ºä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ
          SHOW_COMMIT: "false" # ä¸æ˜¾ç¤º commit ä¿¡æ¯
          SHOW_LOC: "true" # æ˜¾ç¤ºä»£ç è¡Œæ•° (Lines of Code)
