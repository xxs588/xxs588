name: Generate Snake Animation

on:
  schedule:
    - cron: "0 0 * * *"
  workflow_dispatch:

jobs:
  generate:
    runs-on: ubuntu-latest
    # VVVV å…³é”®ï¼šåœ¨æ­¤å¤„æ·»åŠ å†™å…¥æƒé™ VVVV
    permissions:
      contents: write 
    # ^^^^ å…³é”®ï¼šåœ¨æ­¤å¤„æ·»åŠ å†™å…¥æƒé™ ^^^^
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0 
          
      - uses: Platane/snk@v3
        with:
          github_user_name: xxs588
          outputs: |
            dist/github-contribution-grid-snake.svg
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      # ç”±äº actions-js/push å¤±è´¥äº†ï¼Œæˆ‘ä»¬å›åˆ°æ›´ç¨³å®šçš„ stefanzweifel/git-auto-commit-action@v5
      - name: Commit files
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ Generated Snake Animation"
          file_pattern: 'dist/github-contribution-grid-snake.svg'
